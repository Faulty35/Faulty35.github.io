
<!DOCTYPE html>

    <html>
        <head>
            <title>rizz</title>
        </head>

        <body>
            <button onclick="left()">Left</button>
            <button onclick="right()">right</button>
            <button onclick="up()">up</button>
            <button onclick="down()">down</button>
        </body>
    </html>

    <script>
        var mapX = 0;
        var mapY = 0;
        var gridSize = 10;
        var slength =100;
        var table = [];
        for(let i = 0; i<slength; i++){
            table[i]=[];
            for(let j = 0; j<slength; j++){
                table[i][j] = "-";
            }
        }
        var pR=3;
        var pC=3;
        table[pR][pC]="#";
        table[0][0]="<";
        table[slength-1][slength-1]=">";
        
        var header = [];
        var x =[];
        for(let i = 0; i<slength; i++){
            header[i]="game"+i;
            
            x = document.createElement("div");
            x.id = header[i];
            document.body.appendChild(x);
        }
    
        function setup(){
            if(pR>10*(mapY+1)){
                mapY++;
            }
            if(pC>10*(mapX+1)){
                mapX++;
            }

            for(let i = 10*mapX * gridSize; i < Math.min((mapX + 1) * gridSize, slength); i++){
                let gameDiv = document.getElementById(header[i]);
                let content = "";
                for(let j = mapX * gridSize; j < Math.min((mapX + 1) * gridSize, slength); j++){
                    content +=table[i][j]+" ";
                }
                gameDiv.innerHTML=content;
            }
        }
    
        function left(){
            let temp = (pC - 1 + slength) % slength;
            let x = table[pR][temp];
            table[pR][temp]=table[pR][pC];
            table[pR][pC]=x;
            pC=temp;
            setup();
        }
        function right(){
            let temp = (pC + 1 + slength) % slength;
            let x = table[pR][temp];
            table[pR][temp]=table[pR][pC];
            table[pR][pC]=x;
            pC=temp;
            setup();
        }
        function up(){
            let temp = (pR - 1 + slength) % slength;
            let x = table[temp][pC];
            table[temp][pC]=table[pR][pC];
            table[pR][pC]=x;
            pR=temp;
            setup();
        }
        function down(){
            let temp = (pR + 1 + slength) % slength;
            let x = table[temp][pC];
            table[temp][pC]=table[pR][pC];
            table[pR][pC]=x;
            pR=temp;
            setup();
        }
        setup();

        window.addEventListener("keydown", function (event) {
  if (event.defaultPrevented) {
    return; // Do nothing if the event was already processed
  }

  switch (event.key) {
    case "ArrowDown":
      down();
      break;
    case "ArrowUp":
      up();
      break;
    case "ArrowLeft":
      left();
      break;
    case "ArrowRight":
      right();
      break;
    default:
      return;
  }

  // Cancel the default action to avoid it being handled twice
  event.preventDefault();
}, true);
        </script>