
<!DOCTYPE html>

    <html>
        <head>
            <title>rizz</title>
        </head>

        <body>
            <button onclick="left()">Left</button>
            <button onclick="right()">right</button>
            <button onclick="up()">up</button>
            <button onclick="down()">down</button>
        </body>
    </html>

    <script>    
        var slength =50;
        var gridSize = 10;
        var table = [];
        for(let i = 0; i<slength; i++){
            table[i]=[];
            for(let j = 0; j<slength; j++){
                if(i==0||i==slength-1){
                    table[i][j] = "=";
                }else if((j==0||j==slength-1)){
                    table[i][j] = "=";
                }else{
                    table[i][j] = "+";
                }            
            }
        }
        var pR=3;
        var pC=3;
        var cR=pR-(pR%gridSize);
        var cC=pC-(pC%gridSize);
        var char = table[pR][pC];    
        table[pR][pC]="O";
        
        var header = [];
        var x =[];
        for(let i = 0; i<slength; i++){
            header[i]="game"+i;
            
            x = document.createElement("div");
            x.id = header[i];
            document.body.appendChild(x);
        }
    
        function setup(){
        
            for(let i = 0+(gridSize*cR); i<(10+(gridSize*cR)); i++){
                let gameDiv = document.getElementById(header[i-cR]);
                let content = "";
                for(let j = 0+(gridSize*cC); j<(10+(gridSize*cC)); j++){
                    content +=table[i][j]+" ";
                }
                gameDiv.innerHTML=content;
            }
        }
    
        function left(){
            let temp = (pC - 1 + (slength)) % (slength);
            let x = table[pR][temp];
            table[pR][temp]=table[pR][pC];
            table[pR][pC]=char;
            char=x;
            pC=temp;
            if(pC%gridSize==9){
                cC=(cC - 1 + (slength/gridSize)) % (slength/gridSize);
            }
            setup();
        }
        function right(){
            let temp = (pC + 1 + (slength)) % (slength);
            let x = table[pR][temp];
            table[pR][temp]=table[pR][pC];
            table[pR][pC]=char;
            char=x;
            pC=temp;
            if(pC%gridSize==0){
                cC=(cC + 1 + (slength/gridSize)) % (slength/gridSize);
            }
            setup();
        }
        function up(){
            let temp = (pR - 1 + (slength)) % (slength);
            let x = table[temp][pC];
            table[temp][pC]=table[pR][pC];
            table[pR][pC]=char;
            char=x;
            pR=temp;
            if(pR%gridSize==9){
                cR=(cR - 1 + (slength/gridSize)) % (slength/gridSize);
            }
            setup();
        }
        function down(){
            let temp = (pR + 1 + (slength)) % (slength);
            let x = table[temp][pC];
            table[temp][pC]=table[pR][pC];
            table[pR][pC]=char;
            char=x;
            pR=temp;
            if(pR%gridSize==0){
                cR=(cR + 1 + (slength/gridSize)) % (slength/gridSize);
            }
            setup();
        }
        setup();

        window.addEventListener("keydown", function (event) {
  if (event.defaultPrevented) {
    return; // Do nothing if the event was already processed
  }

  switch (event.key) {
    case "s":
      down();
      break;
    case "w":
      up();
      break;
    case "a":
      left();
      break;
    case "d":
      right();
      break;
    default:
      return;
  }

  // Cancel the default action to avoid it being handled twice
  event.preventDefault();
}, true);
        </script>
